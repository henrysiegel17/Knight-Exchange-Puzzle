from print_board import display_board
from pprint import pprint

def knights_graph(board):
    """
    Given a 2D list `board` of 1's (valid squares) and 0's (holes),
    returns an undirected knight-move graph.
    
    Output format: dictionary { (r,c) : [(r2,c2), ...], ... }
    where (r,c) are coordinates of valid squares.
    """

    rows = len(board)
    cols = len(board[0])
    
    # Knight move displacements
    knight_moves = [
        (2, 1), (1, 2), (-1, 2), (-2, 1),
        (-2, -1), (-1, -2), (1, -2), (2, -1)
    ]
    
    graph = { }  # adjacency list
    
    for r in range(rows):
        for c in range(cols):
            if board[r][c] == 1:  # only valid squares
                # Initialize vertex
                graph[(r,c)] = []
                
                for dr, dc in knight_moves:
                    nr, nc = r + dr, c + dc
                    # Check in bounds and valid square
                    if 0 <= nr < rows and 0 <= nc < cols and board[nr][nc] == 1:
                        graph[(r,c)].append((nr,nc))
    
    return graph


# Example use:

# THIS BOARD WORKS FOR COMPLETELY CONNECTED NODES
Corner4 = [
    [0,0,0,0,0,0,0,1,0],
    [1,1,1,1,1,1,0,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,1,1,1,1,1,1,1],
    [0,1,0,0,0,0,0,0,0],
]

# WORKS

#(0,0,0,0)
Corner0 = [
        [0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0],
        ]

# 1 long side removed (0,1,1,1)
Corner3V1 = [
    [0,0,0,0,0,0,0,0,0],
    [1,1,1,1,1,1,0,0,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,1,1,1,1,1,1,1],
    [0,1,0,0,0,0,0,0,0],
]

# 1 short side removed (1,1,1,0)
Corner3V2 = [
    [0,0,0,0,0,0,0,1,0],
    [0,0,1,1,1,1,0,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,1,1,1,1,1,1,1],
    [0,1,0,0,0,0,0,0,0],
]

# do same for other edges 

# (1,1,0,1)
Corner3V3 = [
    [0,0,0,0,0,0,0,1,0],
    [1,1,1,1,1,1,0,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,0,1,1,1,1,1,1,1],
    [0,0,0,0,0,0,0,0,0],
]

# (1,0,1,1)
Corner3V4 = [
    [0,0,0,0,0,0,0,1,0],
    [1,1,1,1,1,1,0,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,0,0,0,0,0,0,0],
]

# 1 long side, 1 short side removed (adjacent) (0,1,1,0)
Corner2V1 = [
    [0,0,0,0,0,0,0,0,0],
    [0,0,1,1,1,1,0,0,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,1,1,1,1,1,1,1],
    [0,1,0,0,0,0,0,0,0],
]

# 1 long side, 1 short side removed (opposite) (1,0,1,0)
Corner2V2 = [
    [0,0,0,0,0,0,0,1,0],
    [0,0,1,1,1,1,0,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,0,0,0,0,0,0,0],
]

# 2 short sides removed (adjacent) (1,1,0,0)
Corner2V3 = [
    [0,0,0,0,0,0,0,1,0],
    [0,0,1,1,1,1,0,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,0,1,1,1,1,1,1,1],
    [0,0,0,0,0,0,0,0,0],
]

# 2 long sides removed (adjacent) (0,0,1,1)
Corner2V4 = [
    [0,0,0,0,0,0,0,0,0],
    [1,1,1,1,1,1,0,0,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,0,0,0,0,0,0,0],
]

# last two cases:

# 1 short side and 1 long side removed (opposite) (0,1,0,1)
Corner2V5 = [
    [0,0,0,0,0,0,0,0,0],
    [1,1,1,1,1,1,0,0,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,0,1,1,1,1,1,1,1],
    [0,0,0,0,0,0,0,0,0],
]

# 1 short side and 1 long side removed (adjacent) (1,0,0,1)
Corner2V6 = [
    [0,0,0,0,0,0,0,1,0],
    [1,1,1,1,1,1,0,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,0,1,1,1,1,1,0,0],
    [0,0,0,0,0,0,0,0,0],
]

#(1,0,0,0)
Corner1V1 = [
    [0,0,0,0,0,0,0,1,0],
    [0,0,1,1,1,1,0,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,0,1,1,1,1,1,0,0],
    [0,0,0,0,0,0,0,0,0],
]

#(0,0,0,1)
Corner1V2 = [
    [0,0,0,0,0,0,0,0,0],
    [1,1,1,1,1,1,0,0,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,0,1,1,1,1,1,0,0],
    [0,0,0,0,0,0,0,0,0],
]

#(0,0,1,0)
Corner1V3 = [
    [0,0,0,0,0,0,0,0,0],
    [0,0,1,1,1,1,0,0,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,1,1,1,1,1,0,0],
    [0,1,0,0,0,0,0,0,0],
]

#(0,1,0,0)
Corner1V4 = [
    [0,0,0,0,0,0,0,0,0],
    [0,0,1,1,1,1,0,0,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,1,0],
    [0,1,1,1,1,1,1,0,0],
    [0,0,1,1,1,1,1,1,1],
    [0,0,0,0,0,0,0,0,0],
]

test_board = [
    [0,0,0,0,0,1,0],
    [1,1,1,1,0,1,0],
    [0,1,1,1,1,1,0],
    [0,1,1,1,1,1,0],
    [0,1,1,1,1,0,0],
    [0,1,1,1,1,1,1],
    [0,1,0,0,0,0,0],
]

# display_board(sample_board2, 8, 8)

if __name__ == "__main__":
    # Display all paths on 4 Corner Boards
    G = knights_graph(Corner1V2)
    pprint(G)
    # Display all paths on 3 Corner Boards

    # Display all paths on 2 Corner Boards

    # Display all paths on 1 Corner Boards






